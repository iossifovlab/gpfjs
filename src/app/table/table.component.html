<div *ngIf="showFloatingHeader" class="table-header-sticky-div">
  <gpf-table-view-header style="display: table-header-group" [columns]="columnsChildren" [(sortingInfo)]="sortingInfo">
  </gpf-table-view-header>
</div>

<div #table style="width: 100%; display: table; border-collapse: collapse">
  <gpf-table-view-header style="display: table-header-group" [columns]="columnsChildren" [(sortingInfo)]="sortingInfo">
  </gpf-table-view-header>
  <div [style.display]="beforeDataCellHeight ? 'table-row' : 'none'" [style.height]="beforeDataCellHeight + 'px'">
    <td *ngFor="let column of columnsChildren"></td>
  </div>
  <div #rows style="display: table-row" *ngFor="let data of visibleData">
    <gpf-table-view-cell
      #cells
      *ngFor="let column of columnsChildren"
      [columnInfo]="column"
      [data]="data"
      [noScrollOptimization]="noScrollOptimization"
      [style.width]="column.columnWidth ? column.columnWidth : null"
      [style.max-width]="column.columnWidth ? column.columnWidth : null"
      style="vertical-align: middle">
    </gpf-table-view-cell>
  </div>
  <div style="display: table-row">
    <gpf-table-view-empty-cell *ngFor="let column of columnsChildren" [columnInfo]="column">
    </gpf-table-view-empty-cell>
  </div>
  <div [style.display]="afterDataCellHeight ? 'table-row' : 'none'" [style.height]="afterDataCellHeight + 'px'">
    <td *ngFor="let column of columnsChildren"></td>
  </div>
</div>

<div *ngIf="visibleData.length === 0">
  <gpf-table-view-cell [style.width]="noResultsWidth"
  [style.min-width]="noResultsWidth"
  style="height: 100%">
  </gpf-table-view-cell>
</div>

<div *ngIf="showFloatingHeader && visibleData.length > 0" class="legend-div">
  <ng-template *ngIf="legend?.templateRef" [ngTemplateOutlet]="legend.templateRef"></ng-template>
</div>
