<div class="gender-card card">
    <div class="card-header card-title">Genome Preview</div>
    <div class="card-block" *ngIf="genotypePreviewsArray" style="text-align: center">
        <p><strong>{{genotypePreviewsArray.total}} </strong></p>
        <gpf-table [dataSource]="genotypePreviewsArray.genotypePreviews" style="display: inline-block">
            <gpf-table-column header="family">
                <gpf-table-subcolumn header="id" field="familyId"></gpf-table-subcolumn>
                <gpf-table-subcolumn header="stdy" field="study">
                    <span *gpf-table-cell-content="let data">
                        <a target="_blank" href="">{{data.study}}</a>
                    </span>
                </gpf-table-subcolumn>
            </gpf-table-column>
            <gpf-table-column header="variant">
                <gpf-table-subcolumn header="loc" field="location" [comparator]=locationComparator>
                    <span *gpf-table-cell-content="let data">
                        <a target="_blank" href="http://genome.ucsc.edu/cgi-bin/hgTracks?db=hg19&amp;position=chr{{data.location}}">{{data.location}}</a>
                    </span>
                </gpf-table-subcolumn>
                <gpf-table-subcolumn header="var" field="variant"></gpf-table-subcolumn>
            </gpf-table-column>
            <gpf-table-column header="genotype">
                <span *gpf-table-cell-content="let data"><gpf-pedigree-chart [pedigreeData]=data.pedigree></gpf-pedigree-chart></span>
                <gpf-table-subcolumn header="ch" field="ch"></gpf-table-subcolumn>
                <gpf-table-subcolumn header="par" field="par"></gpf-table-subcolumn>
            </gpf-table-column>
            <gpf-table-column header="effect">
                <gpf-table-subcolumn header="type" field="worstEffectType"></gpf-table-subcolumn>
                <gpf-table-subcolumn header="gene" field="genes"></gpf-table-subcolumn>
            </gpf-table-column>
            <gpf-table-column header="allele freq">
                <gpf-table-subcolumn header="SSC" field="SSCfreq">
                    <span *gpf-table-cell-content="let data">{{data.SSCfreq === null ? "&nbsp;" : "SSC " + data.SSCfreq + "%"}}</span>
                </gpf-table-subcolumn>
                <gpf-table-subcolumn header="EVS" field="EVSfreq">
                    <span *gpf-table-cell-content="let data">{{data.EVSfreq === null ? "&nbsp;" : "EVS " + data.EVSfreq + "%"}}</span>
                </gpf-table-subcolumn>
                <gpf-table-subcolumn header="E65" field="E65freq">
                    <span *gpf-table-cell-content="let data">{{data.E65freq === null ? "&nbsp;"  : "E65 " +  data.E65freq + "%"}}</span>
                </gpf-table-subcolumn>
            </gpf-table-column>
            <gpf-table-column header="races">
                <gpf-table-subcolumn header="mom" field="motherRace"></gpf-table-subcolumn>
                <gpf-table-subcolumn header="dad" field="fatherRace"></gpf-table-subcolumn>
            </gpf-table-column>
            <gpf-table-column header="Proband IQ">
                <gpf-table-subcolumn header="vIQ" field="probandVerbalIQ"></gpf-table-subcolumn>
                <gpf-table-subcolumn header="NvIQ" field="probandNonVerbalIQ"></gpf-table-subcolumn>
            </gpf-table-column>
            <div *gpf-table-legend style="text-align: left; border: 1px solid #dddddd; padding: 5px">
              <div *ngFor="let legendItem of genotypePreviewsArray.legend">
                <span class="pedigree-icon" [style.background-color]="legendItem.color"></span>
                {{ legendItem.name }}
              </div>
            </div>
        </gpf-table>
    </div>
</div>
