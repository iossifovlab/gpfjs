<div class="genome-preview">
    <div *ngIf="genotypePreviewVariantsArray">
        <gpf-table [dataSource]="genotypePreviewVariantsArray.genotypePreviews" style="display: inline-block">
            <gpf-table-column *ngFor="let column of columns" [columnWidth]="singleColumnWidth">
                <gpf-table-header caption="{{ column.name }}">
                </gpf-table-header>
                <gpf-table-header *ngIf="'columns' in column">
                    <gpf-table-subheader *ngFor="let slot of column.columns" caption="{{ slot.name }}"
                    [comparator]="comparator(slot.id)">
                    </gpf-table-subheader>
                </gpf-table-header>
                <gpf-table-content>
                    <gpf-table-subcontent *ngIf="column.source; else columns">
                        <gpf-genotype-preview-field
                            *gpfTableCellContent="let data"
                            [field]="column.id"
                            [value]="data.get(column.id)"
                            [format]="column.format"
                            [genome]="data.get('genome')">
                        </gpf-genotype-preview-field>
                    </gpf-table-subcontent>
                    <ng-template #columns>
                        <gpf-table-subcontent *ngFor="let slot of column.columns">
                            <gpf-genotype-preview-field
                                *gpfTableCellContent="let data"
                                [field]="slot.id"
                                [value]="data.get(slot.id)"
                                [format]="slot.format"
                                [genome]="data.get('genome')">
                            </gpf-genotype-preview-field>
                        </gpf-table-subcontent>
                    </ng-template>
                </gpf-table-content>
            </gpf-table-column>

            <div *gpfTableLegend style="text-align: left; border: 1px solid #dddddd; padding: 5px">
              <div *ngFor="let legendItem of legend">
                <span class="pedigree-icon" [style.background-color]="legendItem.color"></span>
                {{ legendItem.name }}
              </div>
            </div>
        </gpf-table>
    </div>

</div>
