<div class="input-group mr-3">
  <div ngbDropdown role="group" style="width: 100%" placement="bottom-right" class="input-group-append">
    <input
      style="width: 100%"
      [hidden]="caption"
      #searchBox
      id="search-box"
      autocomplete="off"
      (keyup)="searchBoxChange(searchBox.value)"
      placeholder="Select or start typing to search"
      (click)="searchBox.value = ''; onFocus($event)"
      (keydown.enter)="onEnterPress()"
      spellcheck="false" />
    <span
      style="width: 100%"
      [hidden]="!caption"
      id="selected-value"
      class="clickable"
      (click)="searchBox.value = ''; onFocus($event)">
      <span>{{ caption }}</span>
    </span>
    <button type="button" class="btn btn-secondary dropdown-toggle-split" ngbDropdownToggle>
      <span class="caret"></span>
    </button>
    <div ngbDropdownMenu style="width: 100%; overflow-x: hidden; max-height: 300px; overflow-y: scroll; z-index: 150">
      <button
        *ngFor="let element of data"
        class="dropdown-item"
        type="button"
        style="cursor: pointer; padding: 8px"
        (click)="onSelect(element)">
        <ng-template
          *ngIf="template?.templateRef"
          [ngTemplateOutlet]="template.templateRef"
          [ngTemplateOutletContext]="{ $implicit: element }">
        </ng-template>
      </button>
    </div>
  </div>
</div>
