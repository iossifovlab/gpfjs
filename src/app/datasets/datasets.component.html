<div class="content">
  <nav *ngIf="(selectedDataset$ | async) as selectedDataset"
    class="navbar navbar-custom navbar-toggleable-md navbar-expand-lg navbar-light bg-light">
    <ul class="navbar-nav">
      <li class="nav-item">
        <div class="btn-group">
          <div ngbDropdown>
            <button
              ngbDropdownToggle
              class="dataset-selector btn btn-outline-secondary navbar-brand"
              type="button"
              id="datasets-dropdown-menu-button"
              aria-haspopup="true"
              aria-expanded="false">{{ selectedDataset.name }}
            </button>
            <div
              ngbDropdownMenu
              class="dataset-selector"
              aria-labelledby="datasets-dropdown-menu-button">
              <a
                *ngFor="let dataset of (datasets$ | async)"
                class="dropdown-item"
                (click)="selectDataset(dataset)"
                [class.active]="dataset.id === selectedDataset.id"
                [style.opacity]="dataset.accessRights ? 1.0 : 0.3">{{ dataset.name }}</a>
            </div>
          </div>
        </div>
      </li>
      <li *ngIf="selectedDataset.description" class="nav-item">
        <a class="nav-link" routerLink="description" routerLinkActive="active">Dataset Description</a>
      </li>
      <li *ngIf="selectedDataset.commonReport" class="nav-item">
        <a class="nav-link" routerLink="commonReport" routerLinkActive="active">Dataset Statistics</a>
      </li>
      <li *ngIf="selectedDataset.genotypeBrowser && selectedDataset.genotypeBrowserConfig" class="nav-item">
        <a class="nav-link" routerLink="browser" routerLinkActive="active">Genotype Browser</a>
      </li>
      <li *ngIf="selectedDataset.phenotypeBrowser" class="nav-item">
        <a class="nav-link" routerLink="phenotypeBrowser" routerLinkActive="active">Phenotype Browser</a>
      </li>
      <li *ngIf="selectedDataset.enrichmentTool" class="nav-item">
        <a class="nav-link" routerLink="enrichment" routerLinkActive="active">Enrichment Tool</a>
      </li>
      <li *ngIf="selectedDataset.phenotypeTool" class="nav-item">
        <a class="nav-link" routerLink="phenoTool" routerLinkActive="active">Phenotype Tool</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" routerLink="geneView" routerLinkActive="active">Gene View</a>
      </li>
    </ul>
  </nav>

  <div *ngIf="registerAlertVisible" class="alert alert-danger" style="margin: 10px" id="permission-denied-prompt">
      <markdown [data]="permissionDeniedPrompt"></markdown>
      <div style="width: 100%; text-align: center;">
          <input class="btn btn-primary" type="button" (click)="location.back()" value="Go back" />
      </div>
  </div>

  <router-outlet *ngIf="!registerAlertVisible" class="content"></router-outlet>

</div>
